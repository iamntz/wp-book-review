### Refactor

Pentru că vrem să separăm PHP de HTML vom folosi Handlebars. Și pentru că Handlebars este instalabil (și) prin Composer, vom folosi... ei bine, Composer.

Pentru asta va trebui să deschidem o consolă (cmd/terminal, în funcție de platformă) și să executăm `composer init`. Urmărim instrucțiunile, iar la dependințe adăugăm `xamin/handlebars.php`. Restul instrucțiunilor sunt cele default.

Edităm `composer.json` și adăugăm următoarea cheie pentru a spune autoloader-ului în ce director ar trebui să caute bibliotecile:

```json
"autoload": {
  "psr-4": {
    "bookReview\\": "inc/bookReview"
  }
}
```

Executăm și `composer update` pentru a instala tot ce este necesar și am terminat pasul ăsta.

În `index.php` facem următoarele modificări:

```diff
+++ b/index.php
@@ -21,8 +21,7 @@ define('BOOK_TAX_GENRE', 'book_genre');
 define('BOOK_TAX_AUTHOR', 'book_author');
 define('BOOK_TAX_PUBLISHER', 'book_publisher');

-require_once 'inc/bookReview/PostTypes.php';
-require_once 'inc/bookReview/BookReviewWidget.php';
+require_once 'vendor/autoload.php';

 add_action('init', function () {
     new bookReview\PostTypes;
@@ -33,8 +32,6 @@ register_activation_hook(__FILE__, function () {
     flush_rewrite_rules();
 });

-require_once 'inc/bookReview/Metabox.php';
-
 add_action('admin_init', function () {
     new bookReview\Metabox();
 });
```

Și am terminat de instalat autoloader.

#### Git
```
git add .
git commit -am "Added composer autoload"
```
